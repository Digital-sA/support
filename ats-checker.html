<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ATS Resume Checker | Digital SA</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='15' fill='%232563eb'/><path d='M30 30L70 30 85 50 70 70 30 70 15 50z' fill='none' stroke='white' stroke-width='5'/><path d='M30 30L50 15 70 30M70 30L85 50 70 70M70 70L50 85 30 70M30 70L15 50 30 30' fill='none' stroke='white' stroke-width='3'/></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #2563eb;
      --secondary: #1e40af;
      --accent: #3b82f6;
      --dark: #1e293b;
      --light: #f8fafc;
      --gray: #64748b;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --pink: #ec4899;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background-color: #f1f5f9;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header & Navigation */
    header {
      background-color: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .logo i {
      color: var(--accent);
    }
    
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    
    .nav-links a {
      color: var(--dark);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
      position: relative;
    }
    
    .nav-links a:hover {
      color: var(--primary);
    }
    
    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: var(--primary);
      transition: width 0.3s;
    }
    
    .nav-links a:hover::after {
      width: 100%;
    }
    
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--dark);
      cursor: pointer;
    }
    
    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 4rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80') center/cover;
      opacity: 0.1;
      z-index: 0;
    }
    
    .hero .container {
      position: relative;
      z-index: 1;
    }
    
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    
    .hero p {
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto 2rem;
    }
    
    .btn {
      display: inline-block;
      background-color: white;
      color: var(--primary);
      padding: 0.8rem 1.8rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
      border: 2px solid white;
      margin: 0.5rem;
    }
    
    .btn:hover {
      background-color: transparent;
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    /* Main Content */
    .main-content {
      padding: 3rem 0;
    }
    
    .card {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      padding: 2rem;
      margin-bottom: 2rem;
    }
    
    /* Step Navigation */
    .step-nav {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }
    
    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      padding: 0 1.5rem;
    }
    
    .step-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #e2e8f0;
      color: var(--gray);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-bottom: 0.5rem;
      transition: all 0.3s;
    }
    
    .step.active .step-number {
      background-color: var(--primary);
      color: white;
    }
    
    .step.completed .step-number {
      background-color: var(--success);
      color: white;
    }
    
    .step-label {
      font-size: 0.9rem;
      color: var(--gray);
      font-weight: 500;
    }
    
    .step.active .step-label {
      color: var(--primary);
      font-weight: 600;
    }
    
    .step.completed .step-label {
      color: var(--success);
    }
    
    .step-connector {
      position: absolute;
      top: 20px;
      left: -50%;
      width: 100%;
      height: 2px;
      background-color: #e2e8f0;
      z-index: -1;
    }
    
    .step-connector.completed {
      background-color: var(--success);
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--dark);
    }
    
    .form-control {
      width: 100%;
      padding: 0.8rem 1rem;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    select.form-control {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
    }
    
    textarea.form-control {
      min-height: 150px;
      resize: vertical;
    }
    
    /* Upload Area */
    .upload-area {
      border: 2px dashed #cbd5e1;
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 1rem;
    }
    
    .upload-area:hover, .upload-area.dragover {
      border-color: var(--primary);
      background-color: rgba(59, 130, 246, 0.05);
    }
    
    .upload-area i {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .file-info {
      display: flex;
      align-items: center;
      padding: 0.8rem;
      background-color: #f1f5f9;
      border-radius: 6px;
      margin-bottom: 1rem;
    }
    
    .file-info i {
      color: var(--primary);
      margin-right: 0.8rem;
    }
    
    .file-name {
      flex: 1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .remove-file {
      color: var(--gray);
      background: none;
      border: none;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .remove-file:hover {
      color: var(--danger);
    }
    
    /* Button Styles */
    .btn-primary {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.8rem;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn-primary:hover {
      background-color: var(--secondary);
      transform: translateY(-2px);
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .btn-primary:disabled {
      background-color: #cbd5e1;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .btn-secondary {
      background-color: white;
      color: var(--primary);
      border: 1px solid #cbd5e1;
      padding: 0.8rem 1.8rem;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn-secondary:hover {
      background-color: #f1f5f9;
      transform: translateY(-2px);
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    /* Analysis Loading */
    .loading-container {
      text-align: center;
      padding: 2rem;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid #e2e8f0;
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 1.5rem;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .loading-tip {
      font-style: italic;
      color: var(--gray);
      margin-bottom: 1rem;
    }
    
    /* Results Section */
    .results-header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .results-header h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    
    .results-overview {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .overall-score {
      flex: 1;
      min-width: 300px;
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      text-align: center;
    }
    
    .score-value {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }
    
    .score-label {
      font-size: 1.2rem;
      color: var(--gray);
      margin-bottom: 1rem;
    }
    
    .score-description {
      color: var(--dark);
      margin-bottom: 1.5rem;
    }
    
    .score-meta {
      display: flex;
      justify-content: space-around;
      margin-top: 1.5rem;
    }
    
    .meta-item {
      text-align: center;
    }
    
    .meta-value {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--dark);
    }
    
    .meta-label {
      font-size: 0.9rem;
      color: var(--gray);
    }
    
    .role-info {
      flex: 1;
      min-width: 300px;
      background-color: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .role-info h3 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: var(--dark);
    }
    
    .info-item {
      margin-bottom: 1rem;
    }
    
    .info-label {
      font-weight: 500;
      color: var(--gray);
      margin-bottom: 0.3rem;
    }
    
    .info-value {
      color: var(--dark);
    }
    
    /* Gauge Styles */
    .gauge-container {
      margin: 2rem 0;
    }
    
    .gauge {
      position: relative;
      width: 100%;
      height: 20px;
      background-color: #e2e8f0;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .gauge-fill {
      height: 100%;
      border-radius: 10px;
      background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
      width: 0;
      transition: width 1s ease-out;
    }
    
    .gauge-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 0.5rem;
    }
    
    .gauge-label {
      font-size: 0.8rem;
      color: var(--gray);
    }
    
    /* Analysis Sections */
    .analysis-section {
      background-color: white;
      border-radius: 10px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      margin-bottom: 1.5rem;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .section-header h3 {
      font-size: 1.3rem;
      color: var(--dark);
    }
    
    .section-score {
      font-size: 1.2rem;
      font-weight: 600;
    }
    
    .score-high {
      color: var(--success);
    }
    
    .score-medium {
      color: var(--warning);
    }
    
    .score-low {
      color: var(--danger);
    }
    
    .section-content {
      margin-top: 1rem;
    }
    
    .strengths, .improvements {
      margin-bottom: 1.5rem;
    }
    
    .strengths h4, .improvements h4 {
      font-size: 1.1rem;
      margin-bottom: 0.8rem;
      display: flex;
      align-items: center;
    }
    
    .strengths h4 i {
      color: var(--success);
      margin-right: 0.5rem;
    }
    
    .improvements h4 i {
      color: var(--danger);
      margin-right: 0.5rem;
    }
    
    .strengths ul, .improvements ul {
      list-style-type: none;
    }
    
    .strengths li, .improvements li {
      position: relative;
      padding-left: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    .strengths li::before {
      content: '\f00c';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      color: var(--success);
    }
    
    .improvements li::before {
      content: '\f06a';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      color: var(--danger);
    }
    
    /* Keyword Display */
    .keywords-container {
      margin-top: 1.5rem;
    }
    
    .keywords-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    
    .keywords-title {
      font-weight: 600;
      color: var(--dark);
    }
    
    .keywords-count {
      color: var(--gray);
    }
    
    .keywords-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    
    .keyword {
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.9rem;
    }
    
    .keyword-found {
      background-color: #d1fae5;
      color: #065f46;
    }
    
    .keyword-missing {
      background-color: #fee2e2;
      color: #b91c1c;
    }
    
    /* Service Promotion */
    .service-promo {
      background-color: #f8fafc;
      border-radius: 10px;
      padding: 2rem;
      margin: 2rem 0;
      border: 1px solid #e2e8f0;
      position: relative;
      overflow: hidden;
    }
    
    .service-promo h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--dark);
    }
    
    .service-promo p {
      margin-bottom: 1.5rem;
      color: var(--dark);
    }
    
    .service-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .service-feature {
      display: flex;
      align-items: flex-start;
      gap: 0.8rem;
    }
    
    .service-feature i {
      color: var(--primary);
      font-size: 1.2rem;
      margin-top: 3px;
    }
    
    .women-month-banner {
      background: linear-gradient(135deg, var(--pink), #d946ef);
      color: white;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .women-month-banner i {
      font-size: 1.8rem;
    }
    
    .women-month-banner p {
      margin: 0;
      flex: 1;
    }
    
    .women-month-banner strong {
      font-weight: 700;
    }
    
    /* Footer */
    footer {
      background-color: #0f172a;
      color: #e2e8f0;
      padding: 3rem 0 1rem;
      font-size: 0.95rem;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .footer-column {
      margin-bottom: 1.5rem;
    }
    
    .footer-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 1rem;
    }
    
    .footer-logo i {
      font-size: 1.8rem;
      color: var(--accent);
    }
    
    .footer-column h3 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: white;
      position: relative;
      padding-bottom: 8px;
    }
    
    .footer-column h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background-color: var(--accent);
    }
    
    .footer-column p {
      margin-bottom: 1rem;
      line-height: 1.6;
      color: #94a3b8;
    }
    
    .footer-menu {
      list-style: none;
    }
    
    .footer-menu li {
      margin-bottom: 0.8rem;
    }
    
    .footer-menu a {
      color: #94a3b8;
      text-decoration: none;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .footer-menu a:hover {
      color: white;
      transform: translateX(5px);
    }
    
    .footer-menu i {
      font-size: 0.7rem;
      color: var(--accent);
    }
    
    .contact-info {
      list-style: none;
    }
    
    .contact-info li {
      margin-bottom: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 10px;
      line-height: 1.5;
    }
    
    .contact-info i {
      color: var(--accent);
      margin-top: 3px;
    }
    
    .social-links {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    .social-links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
      background-color: #1e293b;
      border-radius: 50%;
      color: white;
      transition: all 0.3s;
      font-size: 1rem;
    }
    
    .social-links a:hover {
      background-color: var(--accent);
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
    .copyright {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid #1e293b;
      color: #64748b;
      font-size: 0.85rem;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        position: absolute;
        top: 70px;
        left: 0;
        width: 100%;
        background-color: white;
        padding: 1rem;
        box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        flex-direction: column;
      }
      
      .nav-links.active {
        display: flex;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .step-nav {
        flex-wrap: wrap;
      }
      
      .step {
        padding: 0 0.5rem;
        margin-bottom: 1rem;
      }
      
      .step-connector {
        display: none;
      }
      
      .results-overview {
        flex-direction: column;
      }
      
      .overall-score, .role-info {
        min-width: 100%;
      }
      
      .service-features {
        grid-template-columns: 1fr;
      }
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.6s ease-out forwards;
    }
    
    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
               <a href="#" class="logo">
          <img src="logo.png" alt="Digital SA Logo" width="50" height="50">
          <span>Digital SA</span>
        </a>
        
        <div class="nav-links">
          <a href="https://digital-sa.github.io/support/#home">Home</a>
          <a href="https://digital-sa.github.io/support/#services">Services</a>
          <a href="https://digital-sa.github.io/support/#about">About</a>
          <a href="#contact">Contact</a>
        </div>
        
        <button class="mobile-menu-btn">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </div>
  </header>
  
  <section class="hero" id="home">
    <div class="container">
      <h1 class="fade-in">ATS Resume Checker</h1>
      <p class="fade-in delay-1">Optimize your resume for Applicant Tracking Systems with our advanced role-specific analysis tool.</p>
      <div class="fade-in delay-2">
        <a href="#analyze" class="btn">Start Analysis</a>
      </div>
    </div>
  </section>
  
  <main class="main-content" id="analyze">
    <div class="container">
      <!-- Step Navigation -->
      <div class="step-nav">
        <div class="step active" id="step-1">
          <div class="step-number">1</div>
          <div class="step-label">Select Role</div>
          <div class="step-connector"></div>
        </div>
        <div class="step" id="step-2">
          <div class="step-number">2</div>
          <div class="step-label">Upload Resume</div>
          <div class="step-connector"></div>
        </div>
        <div class="step" id="step-3">
          <div class="step-number">3</div>
          <div class="step-label">Get Results</div>
        </div>
      </div>
      
      <!-- Step 1: Role Selection -->
      <div class="card fade-in" id="role-selection">
        <h2>Select Your Target Role</h2>
        <p>Choose the department and specific role you're applying for to get tailored analysis.</p>
        
        <form id="role-form">
          <div class="form-group">
            <label for="department">Department</label>
            <select id="department" class="form-control" required>
              <option value="" selected disabled>Select a department</option>
              <option value="engineering">Engineering/IT</option>
              <option value="marketing">Marketing</option>
              <option value="sales">Sales</option>
              <option value="finance">Finance</option>
              <option value="hr">Human Resources</option>
              <option value="healthcare">Healthcare</option>
              <option value="education">Education</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="role">Role</label>
            <select id="role" class="form-control" disabled required>
              <option value="" selected disabled>First select a department</option>
            </select>
          </div>
          
          <div class="form-group" style="display: flex; justify-content: flex-end; gap: 1rem;">
            <button type="button" class="btn-secondary" id="role-back-btn" style="display: none;">
              <i class="fas fa-arrow-left"></i> Back
            </button>
            <button type="button" class="btn-primary" id="role-next-btn" disabled>
              Next <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </form>
      </div>
      
      <!-- Step 2: Resume Upload -->
      <div class="card fade-in" id="resume-upload" style="display: none;">
        <h2>Upload Your Resume</h2>
        <p>Upload your resume document or paste the text below for analysis.</p>
        
        <div class="upload-area" id="upload-area">
          <i class="fas fa-cloud-upload-alt"></i>
          <p>Drag & drop your resume file here or click to browse</p>
          <p><small>Supported formats: PDF, DOCX</small></p>
          <input type="file" id="resume-file" style="display: none;" accept=".pdf,.docx">
        </div>
        
        <div id="file-info" style="display: none;">
          <div class="file-info">
            <i class="fas fa-file-alt"></i>
            <div class="file-name" id="file-name">filename.pdf</div>
            <button class="remove-file" id="remove-file">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="resume-text">Or paste your resume text here:</label>
          <textarea id="resume-text" class="form-control" placeholder="Paste your resume text here..."></textarea>
        </div>
        
        <div style="display: flex; justify-content: flex-end; gap: 1rem;">
          <button type="button" class="btn-secondary" id="resume-back-btn">
            <i class="fas fa-arrow-left"></i> Back
          </button>
          <button type="button" class="btn-primary" id="analyze-btn" disabled>
            Analyze Resume <i class="fas fa-chart-line"></i>
          </button>
        </div>
      </div>
      
      <!-- Loading State -->
      <div class="card fade-in" id="loading-state" style="display: none;">
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <h3>Analyzing Your Resume</h3>
          <p class="loading-tip">Did you know? Most ATS systems reject up to 75% of resumes before a human ever sees them.</p>
          <p>Please wait while we analyze your document...</p>
        </div>
      </div>
      
      <!-- Results Section -->
      <div class="fade-in" id="results-section" style="display: none;">
        <div class="results-header">
          <h2>Analysis Results</h2>
          <p>Here's how your resume performs for your selected role.</p>
        </div>
        
        <!-- Women's Month Banner -->
        <div class="women-month-banner">
          <i class="fas fa-venus"></i>
          <p><strong>Women's Month Special:</strong> Celebrate with us! Get 20% off all our CV revamp services until the end of August. Let us help you build a powerful personal brand that stands out.</p>
        </div>
        
        <div class="results-overview">
          <div class="overall-score">
            <div class="score-value" id="overall-score">0</div>
            <div class="score-label">Overall ATS Score</div>
            <div class="score-description" id="score-description">Your resume is being analyzed for ATS compatibility.</div>
            
            <div class="gauge-container">
              <div class="gauge">
                <div class="gauge-fill" id="overall-gauge"></div>
              </div>
              <div class="gauge-labels">
                <span class="gauge-label">Poor</span>
                <span class="gauge-label">Fair</span>
                <span class="gauge-label">Good</span>
                <span class="gauge-label">Excellent</span>
              </div>
            </div>
            
            <div class="score-meta">
              <div class="meta-item">
                <div class="meta-value" id="keyword-match">0%</div>
                <div class="meta-label">Keyword Match</div>
              </div>
              <div class="meta-item">
                <div class="meta-value" id="word-count">0</div>
                <div class="meta-label">Word Count</div>
              </div>
              <div class="meta-item">
                <div class="meta-value" id="role-relevance">0%</div>
                <div class="meta-label">Role Relevance</div>
              </div>
            </div>
          </div>
          
          <div class="role-info">
            <h3>Role Information</h3>
            
            <div class="info-item">
              <div class="info-label">Selected Department</div>
              <div class="info-value" id="selected-dept">-</div>
            </div>
            
            <div class="info-item">
              <div class="info-label">Selected Role</div>
              <div class="info-value" id="selected-role">-</div>
            </div>
            
            <div class="info-item">
              <div class="info-label">Recommended Length</div>
              <div class="info-value" id="recommended-length">400-600 words</div>
            </div>
            
            <div class="info-item">
              <div class="info-label">Analysis Date</div>
              <div class="info-value" id="analysis-date">-</div>
            </div>
          </div>
        </div>
        
        <!-- Keyword Optimization -->
        <div class="analysis-section">
          <div class="section-header">
            <h3>Keyword Optimization</h3>
            <div class="section-score score-high" id="keyword-score">0/100</div>
          </div>
          
          <div class="gauge-container">
            <div class="gauge">
              <div class="gauge-fill" id="keyword-gauge"></div>
            </div>
          </div>
          
          <div class="section-content">
            <div class="strengths">
              <h4><i class="fas fa-check-circle"></i> Strengths</h4>
              <ul id="keyword-strengths">
                <li>Analyzing keyword usage...</li>
                <li>Checking for role-specific terms...</li>
              </ul>
            </div>
            
            <div class="improvements">
              <h4><i class="fas fa-exclamation-circle"></i> Areas for Improvement</h4>
              <ul id="keyword-improvements">
                <li>Identifying missing keywords...</li>
                <li>Suggesting better phrasing...</li>
              </ul>
            </div>
            
            <div class="keywords-container">
              <div class="keywords-header">
                <div class="keywords-title">Key Role-Specific Keywords</div>
                <div class="keywords-count"><span id="keywords-found-count">0</span> found of <span id="keywords-total-count">0</span></div>
              </div>
              
              <div class="keywords-grid" id="keywords-list">
                <!-- Keywords will be added here -->
              </div>
            </div>
          </div>
        </div>
        
        <!-- Formatting Analysis -->
        <div class="analysis-section">
          <div class="section-header">
            <h3>Formatting Analysis</h3>
            <div class="section-score score-medium" id="formatting-score">0/100</div>
          </div>
          
          <div class="gauge-container">
            <div class="gauge">
              <div class="gauge-fill" id="formatting-gauge"></div>
            </div>
          </div>
          
          <div class="section-content">
            <div class="strengths">
              <h4><i class="fas fa-check-circle"></i> Strengths</h4>
              <ul id="formatting-strengths">
                <li>Checking document structure...</li>
                <li>Analyzing section organization...</li>
              </ul>
            </div>
            
            <div class="improvements">
              <h4><i class="fas fa-exclamation-circle"></i> Areas for Improvement</h4>
              <ul id="formatting-improvements">
                <li>Looking for ATS-unfriendly elements...</li>
                <li>Checking for readability issues...</li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Content Quality -->
        <div class="analysis-section">
          <div class="section-header">
            <h3>Content Quality</h3>
            <div class="section-score score-low" id="content-score">0/100</div>
          </div>
          
          <div class="gauge-container">
            <div class="gauge">
              <div class="gauge-fill" id="content-gauge"></div>
            </div>
          </div>
          
          <div class="section-content">
            <div class="strengths">
              <h4><i class="fas fa-check-circle"></i> Strengths</h4>
              <ul id="content-strengths">
                <li>Evaluating achievement statements...</li>
                <li>Checking for quantifiable results...</li>
              </ul>
            </div>
            
            <div class="improvements">
              <h4><i class="fas fa-exclamation-circle"></i> Areas for Improvement</h4>
              <ul id="content-improvements">
                <li>Looking for weak action verbs...</li>
                <li>Identifying vague descriptions...</li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Service Promotion -->
        <div class="service-promo">
          <h3>Need Professional Help With Your Resume?</h3>
          <p>Our expert team can help you transform your resume into a powerful career tool that gets noticed by employers and ATS systems alike.</p>
          
          <div class="service-features">
            <div class="service-feature">
              <i class="fas fa-check-circle"></i>
              <div>
                <h4>ATS Optimization</h4>
                <p>We'll ensure your resume passes through applicant tracking systems</p>
              </div>
            </div>
            <div class="service-feature">
              <i class="fas fa-check-circle"></i>
              <div>
                <h4>Professional Rewriting</h4>
                <p>Our writers will craft compelling, achievement-focused content</p>
              </div>
            </div>
            <div class="service-feature">
              <i class="fas fa-check-circle"></i>
              <div>
                <h4>Personal Branding</h4>
                <p>We'll help you develop a consistent professional brand</p>
              </div>
            </div>
            <div class="service-feature">
              <i class="fas fa-check-circle"></i>
              <div>
                <h4>LinkedIn Profile</h4>
                <p>Get a matching LinkedIn profile that complements your resume</p>
              </div>
            </div>
          </div>
          
<div style="display: flex; gap: 1rem; flex-wrap: wrap;">
  <button type="button" class="btn-primary" onclick="window.location.href='https://wa.me/+27685753002'">
    <i class="fab fa-whatsapp"></i>
    <span style="margin-left: 8px;">Chat with Us</span>
  </button>
  <button type="button" class="btn-secondary" onclick="window.location.href='mailto:digitalsadesk@gmail.com'">
    <i class="fas fa-envelope"></i>
    <span style="margin-left: 8px;">Email Us</span>
  </button>
</div>

<!-- Action Buttons -->
<div style="display: flex; justify-content: center; gap: 1rem; margin-top: 2rem;">
  <button type="button" class="btn-secondary" id="start-over-btn">
    <i class="fas fa-redo"></i>
    <span style="margin-left: 8px;">Start Over</span>
  </button>
  <button type="button" class="btn-primary" id="print-results-btn">
    <i class="fas fa-file-pdf"></i>
    <span style="margin-left: 8px;">Print as PDF</span>
  </button>
  <button type="button" class="btn-primary" id="save-results-btn">
    <i class="fas fa-save"></i>
    <span style="margin-left: 8px;">Save Results</span>
  </button>
</div>

      </div>
    </div>
  </main>
  
  <footer id="contact">
    <div class="container">
      <div class="footer-content">
        <!-- First Column - About -->
        <div class="footer-column">
          <div class="footer-logo">
            <i class="fas fa-rocket"></i>
            <h3>Digital SA</h3>
          </div>
          <p>Your comprehensive digital partner for career, technology, and business solutions in Johannesburg.</p>
          <div class="social-links">
            <a href="https://www.facebook.com/profile.php?id=61577171795135&mibextid=ZbWKwL" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.linkedin.com/company/digital-sa" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a href="https://www.instagram.com/digital_sa_desk1?igsh=ZGUzMzM3NWJiOQ==" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://wa.me/+27685753002" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://www.tiktok.com/@digital_sa5?_t=ZM-8xdUIkP6NAT&_r=1" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
        
        <!-- Second Column - Quick Links -->
        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul class="footer-menu">
            <li><a href="https://digital-sa.github.io/support/#home"><i class="fas fa-chevron-right"></i> Home</a></li>
            <li><a href="https://digital-sa.github.io/support/#services"><i class="fas fa-chevron-right"></i> Services</a></li>
            <li><a href="https://digital-sa.github.io/support/#about"><i class="fas fa-chevron-right"></i> About</a></li>
            <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
          </ul>
        </div>
        
        <!-- Third Column - Services -->
        <div class="footer-column">
          <h3>Our Services</h3>
          <ul class="footer-menu">
            <li><a href="https://digital-sa.github.io/support/#services"><i class="fas fa-chevron-right"></i> Career Branding</a></li>
            <li><a href="https://digital-sa.github.io/support/#services"><i class="fas fa-chevron-right"></i> Web Development</a></li>
            <li><a href="https://digital-sa.github.io/support/#services"><i class="fas fa-chevron-right"></i> Business Branding</a></li>
            <li><a href="https://digital-sa.github.io/support/#services"><i class="fas fa-chevron-right"></i> IT Support</a></li>
          </ul>
        </div>
        
        <!-- Fourth Column - Contact -->
        <div class="footer-column">
          <h3>Contact Us</h3>
          <ul class="contact-info">
            <li><i class="fas fa-map-marker-alt"></i> 471 Hole in one, Rumsig, Roodepoort</li>
            <li><i class="fas fa-phone"></i> +27 82 969 9191</li>
            <li><i class="fas fa-envelope"></i> digitalsadesk@gmail.com</li>
            <li><i class="fas fa-clock"></i> Mon-Fri: 9AM - 6PM</li>
          </ul>
        </div>
      </div>
      
      <div class="copyright">
        <p>&copy; 2025 Digital SA. All rights reserved.</p>
      </div>
    </div>
  </footer>
  
  <script>
    // Role Data
    const roleData = {
      engineering: {
        name: "Engineering/IT",
        roles: [
          { value: "frontend", name: "Frontend Developer", keywords: ["JavaScript", "React", "CSS", "HTML", "UI/UX", "Responsive Design", "Vue", "Angular"] },
          { value: "backend", name: "Backend Developer", keywords: ["Node.js", "Python", "Java", "API", "Database", "SQL", "NoSQL", "Express"] },
          { value: "fullstack", name: "Full Stack Developer", keywords: ["JavaScript", "React", "Node.js", "MongoDB", "API", "Full-stack", "Database"] },
          { value: "devops", name: "DevOps Engineer", keywords: ["CI/CD", "Docker", "Kubernetes", "AWS", "Azure", "Terraform", "Jenkins", "Infrastructure"] },
          { value: "cloud", name: "Cloud Engineer", keywords: ["AWS", "Azure", "GCP", "Cloud Architecture", "Serverless", "IaC", "Containers"] },
          { value: "data", name: "Data Engineer", keywords: ["ETL", "SQL", "Python", "Data Warehouse", "Big Data", "Hadoop", "Spark", "Data Pipelines"] },
        ]
      },
      marketing: {
        name: "Marketing",
        roles: [
          { value: "digital", name: "Digital Marketing Specialist", keywords: ["SEO", "SEM", "Google Analytics", "Social Media", "Content Strategy", "Email Marketing"] },
          { value: "content", name: "Content Marketing Manager", keywords: ["Content Strategy", "Blog Management", "Editorial", "SEO Writing", "Storytelling"] },
          { value: "social", name: "Social Media Manager", keywords: ["Facebook", "Instagram", "Twitter", "LinkedIn", "Community Management", "Engagement"] },
          { value: "seo", name: "SEO Specialist", keywords: ["Keyword Research", "On-page SEO", "Technical SEO", "Link Building", "Google Analytics"] },
        ]
      },
      sales: {
        name: "Sales",
        roles: [
          { value: "account", name: "Account Executive", keywords: ["B2B Sales", "Client Relationships", "Deal Closing", "Pipeline Management", "Negotiations"] },
          { value: "business", name: "Business Development Representative", keywords: ["Lead Generation", "Prospecting", "Outbound Sales", "Cold Calling", "Sales Funnel"] },
          { value: "sales_manager", name: "Sales Manager", keywords: ["Team Leadership", "Sales Strategy", "Revenue Growth", "Coaching", "Performance Metrics"] },
        ]
      },
      finance: {
        name: "Finance",
        roles: [
          { value: "financial_analyst", name: "Financial Analyst", keywords: ["Financial Modeling", "Forecasting", "Excel", "Data Analysis", "Budgeting", "Reporting"] },
          { value: "accountant", name: "Accountant", keywords: ["GL", "GAAP", "Financial Statements", "Month-end Close", "Reconciliation", "Tax"] },
          { value: "controller", name: "Controller", keywords: ["Financial Management", "Reporting", "Compliance", "Internal Controls", "Risk Management"] },
        ]
      },
      hr: {
        name: "Human Resources",
        roles: [
          { value: "recruiter", name: "Recruiter", keywords: ["Talent Acquisition", "Sourcing", "Interviews", "Onboarding", "ATS", "Candidate Screening"] },
          { value: "hr_generalist", name: "HR Generalist", keywords: ["Employee Relations", "Benefits", "Policies", "Compliance", "HRIS", "Onboarding"] },
          { value: "hr_manager", name: "HR Manager", keywords: ["Team Leadership", "Strategy", "Employee Development", "Organizational Development"] },
        ]
      },
      healthcare: {
        name: "Healthcare",
        roles: [
          { value: "nurse", name: "Registered Nurse", keywords: ["Patient Care", "Clinical Skills", "EMR", "Medication Administration", "CPR Certified"] },
          { value: "physician", name: "Physician", keywords: ["Diagnosis", "Treatment Planning", "Patient Education", "Medical Records", "HIPAA Compliance"] },
          { value: "healthcare_admin", name: "Healthcare Administrator", keywords: ["Healthcare Management", "Regulatory Compliance", "Quality Improvement", "Patient Safety"] },
        ]
      },
      education: {
        name: "Education",
        roles: [
          { value: "teacher", name: "Teacher", keywords: ["Lesson Planning", "Classroom Management", "Student Assessment", "Differentiated Instruction", "Curriculum Development"] },
          { value: "professor", name: "Professor", keywords: ["Lecturing", "Research", "Academic Advising", "Curriculum Development", "Student Mentoring"] },
          { value: "administrator", name: "School Administrator", keywords: ["Educational Leadership", "Program Evaluation", "Staff Management", "Budgeting", "Policy Development"] },
        ]
      }
    };
    
    // DOM Elements
    const elements = {
      // Navigation
      mobileMenuBtn: document.querySelector('.mobile-menu-btn'),
      navLinks: document.querySelector('.nav-links'),
      
      // Role Selection
      departmentSelect: document.getElementById('department'),
      roleSelect: document.getElementById('role'),
      roleNextBtn: document.getElementById('role-next-btn'),
      roleBackBtn: document.getElementById('role-back-btn'),
      roleSelection: document.getElementById('role-selection'),
      
      // Resume Upload
      uploadArea: document.getElementById('upload-area'),
      resumeFile: document.getElementById('resume-file'),
      fileInfo: document.getElementById('file-info'),
      fileName: document.getElementById('file-name'),
      removeFile: document.getElementById('remove-file'),
      resumeText: document.getElementById('resume-text'),
      resumeBackBtn: document.getElementById('resume-back-btn'),
      analyzeBtn: document.getElementById('analyze-btn'),
      resumeUpload: document.getElementById('resume-upload'),
      
      // Loading
      loadingState: document.getElementById('loading-state'),
      
      // Results
      resultsSection: document.getElementById('results-section'),
      overallScore: document.getElementById('overall-score'),
      scoreDescription: document.getElementById('score-description'),
      keywordMatch: document.getElementById('keyword-match'),
      wordCount: document.getElementById('word-count'),
      roleRelevance: document.getElementById('role-relevance'),
      selectedDept: document.getElementById('selected-dept'),
      selectedRole: document.getElementById('selected-role'),
      analysisDate: document.getElementById('analysis-date'),
      
      // Gauges
      overallGauge: document.getElementById('overall-gauge'),
      keywordGauge: document.getElementById('keyword-gauge'),
      formattingGauge: document.getElementById('formatting-gauge'),
      contentGauge: document.getElementById('content-gauge'),
      
      // Scores
      keywordScore: document.getElementById('keyword-score'),
      formattingScore: document.getElementById('formatting-score'),
      contentScore: document.getElementById('content-score'),
      
      // Strengths & Improvements
      keywordStrengths: document.getElementById('keyword-strengths'),
      keywordImprovements: document.getElementById('keyword-improvements'),
      formattingStrengths: document.getElementById('formatting-strengths'),
      formattingImprovements: document.getElementById('formatting-improvements'),
      contentStrengths: document.getElementById('content-strengths'),
      contentImprovements: document.getElementById('content-improvements'),
      
      // Keywords
      keywordsList: document.getElementById('keywords-list'),
      keywordsFoundCount: document.getElementById('keywords-found-count'),
      keywordsTotalCount: document.getElementById('keywords-total-count'),
      
      // Action Buttons
      startOverBtn: document.getElementById('start-over-btn'),
      printResultsBtn: document.getElementById('print-results-btn'),
      saveResultsBtn: document.getElementById('save-results-btn')
    };
    
    // State
    const state = {
      currentStep: 1,
      department: null,
      role: null,
      resumeFile: null,
      resumeText: '',
      analysisResults: null
    };
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile menu toggle
      elements.mobileMenuBtn.addEventListener('click', function() {
        elements.navLinks.classList.toggle('active');
      });
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
          
          // Close mobile menu if open
          if (elements.navLinks.classList.contains('active')) {
            elements.navLinks.classList.remove('active');
          }
        });
      });
      
      // Department selection
      elements.departmentSelect.addEventListener('change', function() {
        const dept = this.value;
        state.department = dept;
        
        // Clear and disable role select
        elements.roleSelect.innerHTML = '<option value="" selected disabled>Select a role</option>';
        elements.roleSelect.disabled = !dept;
        
        if (dept) {
          // Populate roles
          const roles = roleData[dept].roles;
          roles.forEach(role => {
            const option = document.createElement('option');
            option.value = role.value;
            option.textContent = role.name;
            elements.roleSelect.appendChild(option);
          });
        }
        
        // Disable next button until role is selected
        elements.roleNextBtn.disabled = true;
      });
      
      // Role selection
      elements.roleSelect.addEventListener('change', function() {
        state.role = this.value;
        elements.roleNextBtn.disabled = !this.value;
      });
      
      // Role next button
      elements.roleNextBtn.addEventListener('click', function() {
        goToStep(2);
      });
      
      // Role back button
      elements.roleBackBtn.addEventListener('click', function() {
        goToStep(1);
      });
      
      // Resume back button
      elements.resumeBackBtn.addEventListener('click', function() {
        goToStep(1);
      });
      
      // File upload handling
      elements.uploadArea.addEventListener('click', function() {
        elements.resumeFile.click();
      });
      
      elements.uploadArea.addEventListener('dragover', function(e) {
        e.preventDefault();
        elements.uploadArea.classList.add('dragover');
      });
      
      elements.uploadArea.addEventListener('dragleave', function() {
        elements.uploadArea.classList.remove('dragover');
      });
      
      elements.uploadArea.addEventListener('drop', function(e) {
        e.preventDefault();
        elements.uploadArea.classList.remove('dragover');
        
        if (e.dataTransfer.files.length) {
          handleFileSelect(e.dataTransfer.files[0]);
        }
      });
      
      elements.resumeFile.addEventListener('change', function(e) {
        if (e.target.files.length) {
          handleFileSelect(e.target.files[0]);
        }
      });
      
      elements.removeFile.addEventListener('click', function() {
        state.resumeFile = null;
        elements.resumeFile.value = '';
        elements.fileInfo.style.display = 'none';
        checkResumeInput();
      });
      
      // Resume text input
      elements.resumeText.addEventListener('input', function() {
        state.resumeText = this.value;
        checkResumeInput();
      });
      
      // Analyze button
      elements.analyzeBtn.addEventListener('click', function() {
        if (state.resumeFile || state.resumeText.trim()) {
          startAnalysis();
        }
      });
      
      // Start over button
      elements.startOverBtn.addEventListener('click', function() {
        resetForm();
        goToStep(1);
      });
      
      // Print results button
      elements.printResultsBtn.addEventListener('click', function() {
        window.print();
      });
      
      // Save results button
      elements.saveResultsBtn.addEventListener('click', function() {
        alert('Analysis saved! (This would save to localStorage in a real implementation)');
      });
    });
    
    // Helper Functions
    function handleFileSelect(file) {
      // Check file type
      const validTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
      const fileExt = file.name.split('.').pop().toLowerCase();
      
      if (!validTypes.includes(file.type) && !['pdf', 'docx'].includes(fileExt)) {
        alert('Please upload a PDF or DOCX file.');
        return;
      }
      
      // Store file and show info
      state.resumeFile = file;
      elements.fileName.textContent = file.name;
      elements.fileInfo.style.display = 'block';
      
      // Enable analyze button if we have content
      checkResumeInput();
    }
    
    function checkResumeInput() {
      const hasFile = state.resumeFile !== null;
      const hasText = elements.resumeText.value.trim().length > 0;
      elements.analyzeBtn.disabled = !(hasFile || hasText);
    }
    
    function goToStep(step) {
      state.currentStep = step;
      
      // Update step navigation
      document.querySelectorAll('.step').forEach((stepEl, index) => {
        if (index + 1 < step) {
          stepEl.classList.add('completed');
          stepEl.classList.remove('active');
        } else if (index + 1 === step) {
          stepEl.classList.add('active');
          stepEl.classList.remove('completed');
        } else {
          stepEl.classList.remove('active', 'completed');
        }
      });
      
      // Update step connectors
      document.querySelectorAll('.step-connector').forEach((connector, index) => {
        if (index + 1 < step) {
          connector.classList.add('completed');
        } else {
          connector.classList.remove('completed');
        }
      });
      
      // Show/hide sections
      elements.roleSelection.style.display = step === 1 ? 'block' : 'none';
      elements.resumeUpload.style.display = step === 2 ? 'block' : 'none';
      elements.loadingState.style.display = step === 3 ? 'block' : 'none';
      elements.resultsSection.style.display = step === 4 ? 'block' : 'none';
      
      // Show/hide back buttons
      elements.roleBackBtn.style.display = step === 2 ? 'inline-flex' : 'none';
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // If going to step 3 (loading), start analysis after a short delay
      if (step === 3) {
        setTimeout(() => {
          simulateAnalysis();
        }, 500);
      }
    }
    
    function startAnalysis() {
      goToStep(3);
    }
    
    function simulateAnalysis() {
      // Simulate analysis delay
      setTimeout(() => {
        generateResults();
        goToStep(4);
      }, 3000);
    }
    
    function generateResults() {
      // Get selected role data
      const dept = roleData[state.department];
      const role = dept.roles.find(r => r.value === state.role);
      
      // Set role info
      elements.selectedDept.textContent = dept.name;
      elements.selectedRole.textContent = role.name;
      
      // Set analysis date
      const now = new Date();
      elements.analysisDate.textContent = now.toLocaleDateString() + ' ' + now.toLocaleTimeString();
      
      // Generate random scores
      const scores = {
        keywords: Math.floor(Math.random() * 30) + 50, // 50-80
        formatting: Math.floor(Math.random() * 30) + 60, // 60-90
        content: Math.floor(Math.random() * 40) + 50, // 50-90
      };
      
      // Calculate overall score
      scores.overall = Math.floor((scores.keywords + scores.formatting + scores.content) / 3);
      
      // Set scores
      elements.overallScore.textContent = scores.overall;
      elements.keywordScore.textContent = scores.keywords + '/100';
      elements.formattingScore.textContent = scores.formatting + '/100';
      elements.contentScore.textContent = scores.content + '/100';
      
      // Set score colors
      elements.keywordScore.className = 'section-score ' + getScoreClass(scores.keywords);
      elements.formattingScore.className = 'section-score ' + getScoreClass(scores.formatting);
      elements.contentScore.className = 'section-score ' + getScoreClass(scores.content);
      
      // Set gauge widths
      elements.overallGauge.style.width = scores.overall + '%';
      elements.keywordGauge.style.width = scores.keywords + '%';
      elements.formattingGauge.style.width = scores.formatting + '%';
      elements.contentGauge.style.width = scores.content + '%';
      
      // Set meta data
      elements.keywordMatch.textContent = scores.keywords + '%';
      elements.wordCount.textContent = Math.floor(Math.random() * 300) + 300; // 300-600 words
      elements.roleRelevance.textContent = Math.floor(scores.overall * 0.9) + '%';
      
      // Set score description
      let description = '';
      if (scores.overall >= 85) {
        description = 'Excellent! Your resume is well-optimized for ATS systems and highly relevant to your target role.';
      } else if (scores.overall >= 70) {
        description = 'Good job! Your resume is generally well-optimized for ATS systems, with some room for improvement.';
      } else if (scores.overall >= 50) {
        description = 'Your resume needs some work to better align with ATS requirements. Focus on the improvement areas below.';
      } else {
        description = 'Your resume requires significant optimization for ATS compatibility. We recommend addressing the critical issues highlighted below.';
      }
      elements.scoreDescription.textContent = description;
      
      // Generate keyword analysis
      const keywords = role.keywords;
      const foundKeywords = [];
      const missingKeywords = [];
      
      // Randomly determine which keywords are found (weighted by score)
      keywords.forEach(keyword => {
        const found = Math.random() < (scores.keywords / 100);
        if (found) {
          foundKeywords.push(keyword);
        } else {
          missingKeywords.push(keyword);
        }
      });
      
      // Update keyword counts
      elements.keywordsFoundCount.textContent = foundKeywords.length;
      elements.keywordsTotalCount.textContent = keywords.length;
      
      // Display keywords
      elements.keywordsList.innerHTML = '';
      keywords.forEach(keyword => {
        const isFound = foundKeywords.includes(keyword);
        const span = document.createElement('span');
        span.className = 'keyword ' + (isFound ? 'keyword-found' : 'keyword-missing');
        span.textContent = keyword;
        elements.keywordsList.appendChild(span);
      });
      
      // Generate strengths and improvements
      generateStrengthsAndImprovements(scores, role);
    }
    
    function getScoreClass(score) {
      if (score >= 80) return 'score-high';
      if (score >= 60) return 'score-medium';
      return 'score-low';
    }
    
    function generateStrengthsAndImprovements(scores, role) {
      // Keyword strengths
      let strengths = [];
      if (scores.keywords >= 70) {
        strengths.push('Good use of role-specific terminology');
        strengths.push('Includes most important keywords for this position');
      } else if (scores.keywords >= 50) {
        strengths.push('Contains some relevant keywords');
        strengths.push('Basic technical vocabulary present');
      } else {
        strengths.push('Some relevant terms identified');
      }
      
      // Keyword improvements
      let improvements = [];
      if (scores.keywords < 80) {
        improvements.push('Add more ' + role.name + ' specific terms');
        improvements.push('Include variations of key terms (e.g., both "JavaScript" and "JS")');
      }
      if (scores.keywords < 60) {
        improvements.push('Review the job description for missing keywords');
        improvements.push('Add more technical skills from the ' + roleData[state.department].name + ' field');
      }
      
      // Update keyword section
      elements.keywordStrengths.innerHTML = strengths.map(s => `<li>${s}</li>`).join('');
      elements.keywordImprovements.innerHTML = improvements.map(i => `<li>${i}</li>`).join('');
      
      // Formatting strengths
      strengths = [];
      if (scores.formatting >= 80) {
        strengths.push('Clean, professional layout');
        strengths.push('Good use of standard section headings');
        strengths.push('No problematic formatting elements detected');
      } else if (scores.formatting >= 60) {
        strengths.push('Generally good structure');
        strengths.push('Most sections properly formatted');
      } else {
        strengths.push('Basic document structure present');
      }
      
      // Formatting improvements
      improvements = [];
      if (scores.formatting < 80) {
        improvements.push('Ensure consistent spacing throughout');
      }
      if (scores.formatting < 70) {
        improvements.push('Use more standard section headers (e.g., "Work Experience", "Skills")');
      }
      if (scores.formatting < 60) {
        improvements.push('Remove any tables or columns that might confuse ATS');
        improvements.push('Avoid graphics that might not be parsed correctly');
      }
      
      // Update formatting section
      elements.formattingStrengths.innerHTML = strengths.map(s => `<li>${s}</li>`).join('');
      elements.formattingImprovements.innerHTML = improvements.map(i => `<li>${i}</li>`).join('');
      
      // Content strengths
      strengths = [];
      if (scores.content >= 80) {
        strengths.push('Strong achievement statements with quantifiable results');
        strengths.push('Clear demonstration of relevant experience');
        strengths.push('Effective use of action verbs');
      } else if (scores.content >= 60) {
        strengths.push('Some good examples of achievements');
        strengths.push('Relevant experience highlighted');
      } else {
        strengths.push('Basic experience information present');
      }
      
      // Content improvements
      improvements = [];
      if (scores.content < 80) {
        improvements.push('Add more metrics to quantify achievements');
      }
      if (scores.content < 70) {
        improvements.push('Use stronger action verbs (e.g., "Led", "Developed", "Increased")');
      }
      if (scores.content < 60) {
        improvements.push('Focus more on accomplishments rather than responsibilities');
        improvements.push('Tailor content more specifically to ' + role.name + ' role');
      }
      
      // Update content section
      elements.contentStrengths.innerHTML = strengths.map(s => `<li>${s}</li>`).join('');
      elements.contentImprovements.innerHTML = improvements.map(i => `<li>${i}</li>`).join('');
    }
    
    function resetForm() {
      // Reset form elements
      elements.departmentSelect.selectedIndex = 0;
      elements.roleSelect.innerHTML = '<option value="" selected disabled>First select a department</option>';
      elements.roleSelect.disabled = true;
      elements.resumeFile.value = '';
      elements.fileInfo.style.display = 'none';
      elements.resumeText.value = '';
      
      // Reset state
      state.department = null;
      state.role = null;
      state.resumeFile = null;
      state.resumeText = '';
      state.analysisResults = null;
      
      // Reset buttons
      elements.roleNextBtn.disabled = true;
      elements.analyzeBtn.disabled = true;
    }
  </script>
</body>
</html>